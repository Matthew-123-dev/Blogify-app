{% extends 'base/base.html' %}

{% block 'home'%}
<a href="{% url 'home' %}">
    Home
</a>
{% endblock %}

{% block 'content' %}
<div class="glass-card profile-detail">
    <div class="profile-info">
        <img src="{{ profile.image.url }}" alt="Profile Image" 
             style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; 
                    border: 4px solid rgba(255, 255, 255, 0.3); margin-bottom: 20px;">
        <h2 style="font-size: 2rem; font-weight: 700; color: #1f2937; margin-bottom: 15px;">
            {{ profile.user.username }}
        </h2>
        <p style="color: #6b7280; font-size: 1.1rem; line-height: 1.6; margin-bottom: 20px;">
            {{ profile.bio|default:"No bio available" }}
        </p>
        {% if request.user == profile.user %}
            <a href="{% url 'profile' %}" class="btn btn-primary">Edit Profile</a>
        {% endif %}
    </div>
    
    <div class="profile-posts">
        <h3 style="font-size: 1.5rem; font-weight: 700; color: #1f2937; margin-bottom: 20px;">Recent Posts</h3>
        {% if profile.user.post_set.all %}
            {% for post in profile.user.post_set.all|slice:":5" %}
            <div style="background: rgba(255, 255, 255, 0.3); border-radius: 15px; padding: 20px; border: 1px solid rgba(255, 255, 255, 0.2); margin-bottom: 15px;">
                <h4 style="font-size: 1.2rem; font-weight: 600; color: #1f2937; margin-bottom: 8px;">
                    <a href="{{ post.get_absolute_url }}" style="color: inherit; text-decoration: none;">
                        {{ post.title }}
                    </a>
                </h4>
                <p style="color: #6b7280; margin-bottom: 8px;">{{ post.content|slice:":100" }}...</p>
                <small style="color: #9ca3af;">{{ post.published_at }}</small>
            </div>
            {% endfor %}
        {% else %}
            <p style="color: #9ca3af; font-style: italic;">No posts yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}