{% extends 'base/base.html' %}
{% load static %}

{% block "title" %}
<title> 
    Blogify Home
</title>
{% endblock %}

{% block 'content'%}
    <div class="glass-card">
        <h1 style="font-size: 2.5rem; font-weight: 700; color: #1f2937; margin-bottom: 20px;">
            Welcome, {{request.user.username}}.
        </h1>
    </div>

{% for post in posts %}
    <article class="glass-card">
        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
            <img class="rounded-circle" src="{{ post.author.profile.image.url }}" 
                 style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
            <div class="post-meta">
                {% if post.author.profile %}
                <a href="{% url 'profile-detail' post.author.profile.slug %}" 
                   style="color: #3b82f6; text-decoration: none; font-weight: 600;">{{ post.author }}</a>
                {% else %}
                <a href="#" style="color: #3b82f6; text-decoration: none; font-weight: 600;">{{ post.author }}</a>
                {% endif %}
                <small style="color: #9ca3af; margin-left: 10px;">{{ post.published_at }}</small>
            </div>
        </div>
        <h2 class="post-title">
            <a href="{{ post.get_absolute_url }}" style="color: inherit; text-decoration: none;">
                {{ post.title }}
            </a>
        </h2>
        <p class="post-description">{{ post.content|slice:":200" }}{% if post.content|length > 200 %}...{% endif %}</p>
        <a href="{{ post.get_absolute_url }}" class="btn btn-primary">Read More</a>
    </article>
{% endfor %}
{% endblock %}


